<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Your Cart - Pi-Sa</title>
    <!-- <link rel="stylesheet" href="./css/home.css">
    <link rel="stylesheet" href="./css/customize.css"> -->
    <link rel="stylesheet" href="./css/cart.css">
    <link rel="icon" href="./image/logo/icon.favicon" type="image/x-icon">
</head>
<body>
    <div class="navbar">
        <img src="/image/logo/logo.png">
        <ul>
            <li><a href="/home.html">Home</a></li>&nbsp;
            <li><a href="/reservation.html">Reservation</a></li>&nbsp;
            <li><a href="/contact.html">Contact</a></li>&nbsp;
            <li><a href="/cart.html">Cart</a></li>&nbsp;
            <li id="authLink"><a href="/login.html"><span class="no-wrap">Log in </span></a></li>&nbsp;
        </ul>
    </div>

    <div class="cart-container">
        <h1>Your Cart</h1>
        <div id="cart-items" class="cart-items">
            <!-- JS will populate here -->
        </div>
        
        <div class="cart-summary">
            <h3>Total: <span id="cart-total">0៛</span></h3>
            <button id="checkout-btn">Order Now</button>
        </div>
    </div>


    <script src="/js/cart.js"></script>
    
    <script>
        // Check authentication status on page load
        (async () => {
            try {
                const response = await fetch('/api/auth/check', {
                    credentials: 'include'
                });
                
                if (response.ok) {
                    const authLink = document.getElementById('authLink');
                    authLink.innerHTML = '<a href="#" id="logoutLink">Logout</a>';
                    
                    document.getElementById('logoutLink').addEventListener('click', async (e) => {
                        e.preventDefault();
                        await fetch('/api/auth/logout', { credentials: 'include' });
                        window.location.href = '/home.html';
                    });
                }
            } catch (error) {
                console.error('Auth check failed:', error);
            }
        })();
    </script>

</body>


<!-- Footer -->
<footer>
    <div class="section">
        <h1>ABOUT US</h1>
        <div class="content2">
            <p><a href="/">Home</a></p>
            <p><a href="/contact">Contact</a></p>
            <p><a href="/reservation">Reservation</a></p>
        </div>
    </div>
    <div class="section">
        <h1>Contact Info</h1>
        <div class="content">
            <p><img src="image/logo/location.png" alt="location-icon" class="icon">#278H, Street 201R, Kroalkor Village,
                Sangkat Kilometer 6, Khan Russey Keo , Phnom Penh, Cambodia</p>
            <p><img src="image/logo/call.png" alt="call-icon" class="icon">+855 12 266 631</p>
            <P><img src="image/logo/email.webp" alt="email-icon" class="icon"><a href="mailto:info@aupp.edu.kh"
                    style="text-decoration: none; color: inherit;">info@aupp.edu.kh</a></P>
        </div>
    </div>

    <div class="section">
        <h1>Reservation</h1>
        <div class="content">
            <p><em>Book a table with us now!</em></p>
            <p><a href="/reservation">Reservation</a></p>
            <div class="media">
                <a href="https://www.facebook.com/AUPPkh/" target="_blank"><img src="image/logo/fb.png"
                        alt="Facebook"></a>
                <a href="https://www.instagram.com/aupp.edu.kh/?hl=en" target="_blank"><img src="image/logo/ig.png"
                        alt="Instagram"></a>
                <a href="tel: +855 12 266 631"><img src="./image/logo/phone.png"></a>
            </div>

        </div>
    </div>
    <div class="section">
        <h1>Opening Hours</h1>
        <div class="content">
            <p>Mon-Fri: 6:30am - 9:30pm</p>
            <p>Sat & Sun: 7:30am - 10:30pm</p>
        </div>
    </div>
    <div id="logo">
        <div class="content">
            <img src="image/logo/Pisar-footer-.png" id="footer-logo">
        </div>

    </div>
</footer>
<p id="credit">© 2024 - All Rights Reserved - Pisa</p>




</html>